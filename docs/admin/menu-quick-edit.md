# Быстрое редактирование меню

Функция быстрого редактирования позволяет администраторам обновлять несколько блюд с помощью свободного текста. AI анализирует инструкцию, предлагает изменения и применяет их пакетно.

## Когда использовать
- Нужно массово обновить цены или теги на нескольких позициях.
- Требуется быстро поправить описание блюда без поиска карточки.
- Необходимо зафиксировать историю действий администратора.

## Как работает сценарий
1. Откройте существующее меню в режиме редактирования.
2. Нажмите кнопку «Быстрое редактирование» (плавающая иконка ✏️ в правом нижнем углу).
3. Введите инструкцию, например: `Для блюда Бургер «Классик» подними цену до 350 и добавь тег хит продаж`.
4. Отправьте запрос. AI вернёт список предлагаемых изменений.
5. Проверьте и оставьте галочки только на тех блюдах, которые нужно обновить.
6. Подтвердите применение. Изменения попадут в редактор блюд и журнал аудита.

## Ограничения и подсказки
- Текст инструкции должен быть не короче 20 символов и не длиннее 1500.
- Поддерживаются поля: цена (в сомах), теги (через запятую) и описание.
- Если AI не уверен в совпадении названия, пункт будет помечен предупреждением.
- Допустимо отправлять не более 5 запросов за минуту для одного меню.
- История действий сохраняется и доступна через внутренние инструменты аудита.

## Типовые сообщения об ошибках
| Ситуация | Сообщение | Что делать |
| --- | --- | --- |
| Текст слишком короткий | «Добавьте больше контекста — минимум 20 символов.» | Расширьте описание запроса. |
| Лимит частоты | «Превышен лимит запросов. Попробуйте снова через N секунд.» | Подождите минуту перед повторной отправкой. |
| Не найдено блюдо | «AI не смог сопоставить текст с существующими блюдами…» | Уточните название или категорию блюда. |

## Журнал аудита
Каждый запрос фиксируется с информацией:
- идентификатор меню и администратора;
- исходный текст инструкции;
- время генерации и применения диффа;
- список изменений и предупреждения.

Журнал хранится в памяти сервера во время выполнения и используется для отладки и наблюдаемости.
