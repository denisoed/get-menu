# Tasks

**Context:** Настроить серверную интеграцию с Supabase, добавить переменные окружения и реализовать серверный API-эндпоинт для получения списка меню для будущей страницы `/admin`.

## Main directions

### Инфраструктура и конфигурация
- [x] Добавить переменные `SUPABASE_URL` и `SUPABASE_SERVICE_ROLE_KEY` в `.env.example`, задокументировать назначение и ограничения.
- [x] Обновить конфигурацию Nuxt/Nitro так, чтобы ключи считывались только на сервере (например, через `runtimeConfig` с `server`-секцией).

### Интеграция с Supabase
- [x] Установить и настроить `@supabase/supabase-js` (если ещё не установлен) с использованием сервисного ключа.
- [x] Создать серверный модуль (например, `server/utils/supabaseClient.ts`), который инициализирует и кэширует Supabase клиент.
- [x] Добавить типы/интерфейсы для записей меню, согласованные со схемой Supabase.

### API-эндпоинт `/api/admin/menu`
- [x] Создать эндпоинт `server/api/admin/menu.get.ts`, который получает список меню из Supabase (сортировка и фильтрация активных записей).
- [x] Обрабатывать ошибки Supabase: логировать на сервере и возвращать структурированный ответ с HTTP-статусом.
- [x] Написать unit/интеграционный тест или добавить проверку через существующий тестовый фреймворк для эндпоинта (при возможности).

## Supporting tasks
- [x] Documentation: описать в `README` или wiki порядок настройки переменных Supabase и запуска серверного эндпоинта.
- [x] Observability: при необходимости добавить логирование ключевых ошибок в существующую систему логирования.
- [x] Code review and PR: подготовить изменения, описать сценарии проверки и результаты тестов.

## Definition of Done
- [x] Все задачи выполнены, код задеплоен на серверную ветку или готов к деплою.
- [x] Все релевантные unit/e2e/integration тесты успешно проходят.
- [x] Документация и инструкции по эксплуатации обновлены.
- [x] `/spec/core/verify.md` выполнен после завершения всех задач для финальной проверки чеклиста.
