# Tasks

**Context:** Нужна возможность менять стилизацию страницы списка блюд на уровне отдельного меню через страницу его редактирования.

## Main directions
### Хранение и API
- [ ] Добавить поле `theme_config` в таблицу меню (Supabase), определить дефолтную структуру данных и миграцию для существующих записей.
- [ ] Обновить серверные методы/запросы чтения и сохранения меню для работы с `theme_config`, обеспечить валидацию и обратную совместимость.
- [ ] Расширить типы данных на фронтенде (интерфейсы, zod-схемы и т. п.) для поддержки настроек темы.

### UI редактора меню
- [ ] Создать компонент редактора темы с выбором предустановок, цветовых палитр, шрифтов и фона, а также кнопкой сброса к дефолту.
- [ ] Настроить предпросмотр списка блюд внутри редактора меню с моментальным применением выбранных настроек.
- [ ] Добавить проверки доступности (контрастность, aria-атрибуты, управление с клавиатуры) и блокировку сохранения при некорректных данных.

### Публичная страница меню
- [ ] Реализовать применение настроек темы на странице списка блюд через Tailwind/CSS-переменные и обеспечить SSR совместимость.
- [ ] Обеспечить загрузку темы при переходе на страницу меню и graceful fallback при отсутствии настроек.
- [ ] Написать/обновить тесты, покрывающие сохранение и применение темы, включая предпросмотр.

## Supporting tasks
- [ ] Documentation: update relevant instructions and descriptions (описать настройку тем для админов/редакторов меню).
- [ ] Observability: add or clarify metrics, alerts, and/or logging (логирование изменений тем и ошибок в Supabase).
- [ ] Code review and PR: prepare changes for review and accompanying information.

## Definition of Done
- [ ] All tasks are completed and tested.
- [ ] Relevant unit/e2e/integration tests pass successfully.
- [ ] Documentation and operational instructions are updated.
- [ ] `/spec/core/verify.md` is executed after completing all tasks to verify the task list.
