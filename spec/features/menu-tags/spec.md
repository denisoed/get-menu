# Теги для блюд в редакторе меню

**Specification:** Добавить в админский редактор меню новую секцию «Теги» под блоком категорий, чтобы владелец заведения мог заранее создать перечень тегов и быстро проставлять их блюдам при редактировании меню.

## User Stories

- Как владелец кафе, я открываю страницу создания/редактирования меню и вижу отдельный блок «Теги» с формой добавления, чтобы сразу занести нужные теги.
- Как менеджер, я создаю несколько тегов через новую секцию и затем отмечаю ими блюда в редакторе, чтобы гости могли фильтровать меню.
- Как владелец, я редактирую или удаляю устаревший тег и вижу, как изменения синхронно отражаются во всех блюдах, чтобы поддерживать актуальность меню.

## Main scenarios and rules

- Блок «Теги» располагается под секцией «Категории блюд» и повторяет UX-паттерн: поле ввода, кнопка «Добавить», список существующих тегов с действиями «Редактировать» и «Удалить».
- Тег хранится в отдельной таблице Supabase (`tags`) с уникальным регистронезависимым ограничением по названию и системными полями (`id`, `name`, `created_at`, `updated_at`).
- При удалении тега необходимо очистить привязку в блюдах (например, убрать идентификатор из массива тегов), чтобы в редакторе не оставалось «битых» ссылок.
- Теги выбираются в карточке блюда из выпадающего списка с мультивыбором; новые произвольные значения вводить нельзя — только заранее созданные теги.
- При предзаполнении меню для редактирования одновременно загружаются категории и теги; при ошибке загрузки тегов показывается toast/алерт в блоке.
- Названия тегов ограничены 24 символами, допускаются буквы, цифры и пробелы; пустые строки и дубли запрещены.
- Пользователь получает понятное сообщение об ошибке при неуспешном создании/обновлении/удалении тега; блок остаётся интерактивным без перезагрузки страницы.

## Non-functional requirements

- Список тегов подгружается из Supabase через существующий клиент с тем же уровнем кеширования, что и категории (максимальное время ответа 1 с для CRUD-операций).
- UI должен работать на мобильных и десктопных разрешениях, повторяя визуальные токены Tailwind (цвета `brand`, `shadow-soft`, закругления).
- Все операции с тегами должны быть защищены авторизацией так же, как API категорий (использовать админскую сессию/guard).
- Локализация: все пользовательские тексты на русском, в том числе ошибки и подсказки.
- Соблюдать доступность: элементы управления тегами имеют label, aria-атрибуты и фокус-стили.

## Assumptions

- В Supabase ещё нет таблицы `tags`, её нужно создать с миграцией, схожей с `categories`.
- Связь «блюдо ↔ теги» будет храниться как массив идентификаторов в схеме блюда; при отсутствии массива — необходимо расширить модель.
- На стороне клиента уже есть инфраструктура запросов (`useMenuCategories`, `useRequest`), которую можно переиспользовать или расширить для тегов.
- Если потребуется фильтрация меню по тегам на пользовательской стороне, это будет отдельной задачей.
