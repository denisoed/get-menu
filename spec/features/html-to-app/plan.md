# Implementation Plan

**Plan:** Перенос кода из index.html в готовый Nuxt 4 проект с использованием TypeScript. Точное воспроизведение дизайна, стилей и функциональности без изменений.

## Data sources / schemas

### Конфигурация приложения
- **Файл:** `nuxt.config.ts` - уже настроен, добавить Tailwind конфигурацию из HTML
- **Файл:** `app.config.ts` - создать на основе HTML SETTINGS
- **Файл:** `types/index.ts` - создать TypeScript типы на основе HTML структур

### Данные меню
- **Файл:** `data/menu.json` - точная копия массива MENU из HTML
- **Файл:** `data/settings.json` - точная копия объекта SETTINGS из HTML
- **Схема:** Интерфейсы точно соответствуют структуре данных из HTML без изменений

### Состояние приложения
- **Composable:** `useCart()` - точная копия логики корзины из HTML
- **Composable:** `useSettings()` - точная копия логики настроек из HTML
- **Composable:** `useTheme()` - точная копия логики темы из HTML

## Contracts and interfaces

### Публичные API
- **Composable useCart:** - точная копия функций корзины из HTML
  - `addToCart(id: string, opts?: any): void` - идентично HTML
  - `removeFromCart(key: string): void` - идентично HTML
  - `changeQty(key: string, d: number): void` - идентично HTML
  - `cartTotals(): {sub, delivery, total}` - идентично HTML

- **Composable useSettings:** - точная копия логики настроек из HTML
  - `settings: CafeSettings` - идентично HTML SETTINGS
  - `fmt(n: number): string` - идентично HTML функции форматирования
  - `whatsappLink(text: string): string` - идентично HTML

- **Composable useTheme:** - точная копия логики темы из HTML
  - `toggleDark(): void` - идентично HTML
  - `applyThemeFromStorage(): void` - идентично HTML

### Компоненты
- **MenuCard** - точная копия функции card() из HTML
- **CartDrawer** - точная копия HTML разметки корзины
- **CartModal** - точная копия HTML модального окна
- **SearchBar** - точная копия HTML поля поиска
- **CategoryFilter** - точная копия HTML фильтров категорий
- **ThemeToggle** - точная копия HTML переключателя темы
- **Header** - точная копия HTML шапки
- **Footer** - точная копия HTML подвала

### События
- Все события идентичны HTML версии
- Никаких новых событий не добавляется

## Architecture / Components

### Структура проекта
```
app/
├── components/
│   ├── ui/           # Базовые UI компоненты (точные копии HTML элементов)
│   ├── menu/         # Компоненты меню (точные копии HTML функций)
│   ├── cart/         # Компоненты корзины (точные копии HTML разметки)
│   └── layout/       # Компоненты макета (точные копии HTML секций)
├── composables/      # Точные копии JavaScript функций из HTML
├── data/            # Точные копии SETTINGS и MENU из HTML
├── types/           # TypeScript типы, соответствующие HTML данным
├── assets/          # Статические ресурсы (изображения, иконки)
├── styles/          # Точная копия CSS стилей из HTML
└── pages/           # Главная страница (точная копия HTML body)
```

### Технологический стек
- **Frontend:** Nuxt 4 (уже настроен), Vue 3, TypeScript
- **Стили:** Tailwind CSS с идентичной конфигурацией из HTML
- **Состояние:** Точная копия state объекта из HTML
- **Хранение:** localStorage идентично HTML версии
- **Сборка:** Vite (встроенный в Nuxt 4)

### Компонентная архитектура
- **Layout компоненты:** Точные копии HTML секций (header, footer, main)
- **Menu компоненты:** Точные копии HTML функций (card, renderItems, renderCart)
- **Cart компоненты:** Точные копии HTML разметки корзины
- **UI компоненты:** Точные копии HTML элементов (кнопки, поля, модалы)
- **Utility компоненты:** Точные копии HTML утилит (форматирование, ссылки)

### Интеграции
- **WhatsApp API:** Точная копия функции whatsappLink() из HTML
- **Telephone API:** Точная копия телефонных ссылок из HTML
- **Print API:** Точная копия функции window.print() из HTML
- **LocalStorage API:** Точная копия логики сохранения из HTML

## Risks

### Технические риски
- **Совместимость Nuxt 4:** Возможны breaking changes в новой версии
  - *Митигация:* Использование стабильной версии, тестирование на dev-среде
- **Изменение поведения:** Nuxt может изменить поведение по сравнению с HTML
  - *Митигация:* Тщательное тестирование каждого элемента, сравнение с HTML версией
- **Производительность:** Nuxt может работать медленнее чем чистый HTML
  - *Митигация:* Оптимизация конфигурации, минимизация JavaScript

### Функциональные риски
- **Потеря функциональности:** При переносе может что-то сломаться
  - *Митигация:* Пошаговый перенос, тестирование каждого компонента, сравнение с HTML
- **Изменение логики:** Vue реактивность может изменить поведение
  - *Митигация:* Точное воспроизведение логики из HTML, тестирование edge cases

### Бизнес-риски
- **Время разработки:** Перенос может занять больше времени чем планируется
  - *Митигация:* Поэтапная разработка, приоритет на идентичность с HTML
- **Изменение пользовательского опыта:** Пользователи могут заметить разницу
  - *Митигация:* Строгое следование HTML дизайну, тестирование на реальных пользователях

## Assumptions

### Технические предположения
- Nuxt 4 проект уже настроен и готов к переносу
- TypeScript конфигурация работает корректно
- Tailwind CSS настроен и готов к использованию
- Все функции из HTML можно перенести в Nuxt без изменений

### Функциональные предположения
- HTML версия работает корректно и является эталоном
- Все функции должны работать идентично HTML версии
- Дизайн не должен изменяться ни в коем случае
- Производительность должна быть сопоставимой с HTML

### Данные, требующие уточнения
- Нет - задача только в точном переносе без изменений
- Нет - никаких новых функций не добавляется
- Нет - никаких новых интеграций не требуется
- Нет - никаких новых возможностей не добавляется