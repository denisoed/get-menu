# Быстрое редактирование меню

**Specification:** Добавить на страницу редактирования меню плавающую кнопку быстрого редактирования, открывающую модальное окно с textarea и кнопкой сохранения. Введённый администратором свободный текст обрабатывается AI, формирует перечень будущих изменений и показывает экран подтверждения, после апрува данные блюд обновляются.

## User Stories
- Как администратор меню, я нажимаю на плавающую кнопку с иконкой карандаша и мгновенно получаю модальное окно для ввода инструкции, чтобы не искать нужный пункт в сложной форме.
- Как администратор меню, я ввожу свободный текст с просьбой изменить несколько блюд, и AI возвращает читабельный список планируемых правок, чтобы убедиться, что команда понята верно.
- Как администратор меню, я подтверждаю предложенные изменения и получаю обновлённые данные блюд без ручного редактирования каждого поля, экономя время и избегая ошибок.

## Main scenarios and rules
- На странице редактирования меню отображается плавающая круглая кнопка в правом нижнем углу с иконкой карандаша; кнопка доступна только администраторам с правом редактирования.
- При клике на кнопку открывается модальное окно с заголовком, текстовой областью, подсказкой по формату запросов и кнопкой "Сохранить"/"Отправить"; закрыть окно можно по крестику, overlay и клавише Esc.
- После отправки текста запускается асинхронный запрос к AI-сервису/серверной функции, возвращающей структурированный список изменений (название блюда, новые значения цены/наличия и т.д.).
- Пользователю показывается экран подтверждения с перечислением предлагаемых изменений, возможностью вернуться к правке текста или подтвердить применение; при подтверждении вызывается серверный процесс обновления блюд.
- Если AI не смог распарсить запрос или изменения конфликтуют с текущими данными, пользователь получает дружелюбное сообщение об ошибке и предложение скорректировать текст.
- Все действия логируются для последующего аудита (кто и какие правки инициировал).

## Non-functional requirements
- Ответ AI и подготовка предварительного просмотра не должны превышать 5–7 секунд при стабильном соединении.
- Коммуникация с AI должна выполняться через защищённый канал (https) и не раскрывать лишние персональные данные.
- Интерфейс должен корректно работать в светлой и тёмной темах, на десктопе и мобильных устройствах.
- Поддерживается русская локализация текстов кнопок, подсказок и сообщений об ошибках.
- Обновление блюд должно быть атомарным: если хотя бы одно изменение не применилось, показывать сообщение и откатывать пакет.

## Assumptions
- AI-обработка будет реализована через уже доступный backend (edge function или серверный маршрут) с возможностью интеграции модели.
- У блюд уже есть идентификаторы и поля для цены, наличия и описания; AI вернёт структуру, которую можно сопоставить с этими полями.
- Для доступа к функции администратор проходит стандартную авторизацию, дополнительной капчи не требуется.
- Требуется уточнение по ограничениям на длину запроса и тарифам AI-сервиса.
